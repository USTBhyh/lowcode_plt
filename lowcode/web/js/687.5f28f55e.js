"use strict";(self["webpackChunklowcode"]=self["webpackChunklowcode"]||[]).push([[687],{6729:function(e,t,a){a.d(t,{z:function(){return n}});var l=a(2074);const n=e=>{if(navigator.clipboard)navigator.clipboard.writeText(e).then((()=>{l.ZP.success("复制成功",2)})).catch((e=>{l.ZP.success("复制失败",2),console.log(e)}));else{const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("Copy"),document.body.removeChild(t),l.ZP.success("复制成功",2)}}},710:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(3396),n=a(7139);const o={class:"item-title"};var u={__name:"FormGenerator",props:["element"],setup(e){return(t,a)=>{const u=(0,l.up)("a-input"),i=(0,l.up)("a-textarea"),r=(0,l.up)("a-radio"),c=(0,l.up)("a-radio-group"),s=(0,l.up)("a-select"),p=(0,l.up)("a-rate"),m=(0,l.up)("a-date-picker"),d=(0,l.up)("a-typography-text"),v=(0,l.up)("a-typography-paragraph"),w=(0,l.up)("a-divider");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",o,(0,n.zw)(e.element.name),1),"input"==e.element.options.type?((0,l.wg)(),(0,l.j4)(u,{key:0,value:e.element.options.value,"onUpdate:value":a[0]||(a[0]=t=>e.element.options.value=t),allowClear:e.element.options.allowClear,bordered:e.element.options.bordered,placeholder:e.element.options.placeholder,showCount:e.element.options.showCount,onBlur:a[1]||(a[1]=a=>e.element.refill?t.$emit("refill"):null)},null,8,["value","allowClear","bordered","placeholder","showCount"])):"textarea"==e.element.options.type?((0,l.wg)(),(0,l.j4)(i,{key:1,value:e.element.options.value,"onUpdate:value":a[2]||(a[2]=t=>e.element.options.value=t),allowClear:e.element.options.allowClear,autoSize:e.element.options.autoSize,placeholder:e.element.options.placeholder,showCount:e.element.options.showCount},null,8,["value","allowClear","autoSize","placeholder","showCount"])):"radio"==e.element.options.type?((0,l.wg)(),(0,l.j4)(c,{key:2,value:e.element.options.value,"onUpdate:value":a[3]||(a[3]=t=>e.element.options.value=t),name:"radioGroup"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.element.options.valueData,((e,t)=>((0,l.wg)(),(0,l.j4)(r,{key:t,value:e.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.value),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])):"select"==e.element.options.type?((0,l.wg)(),(0,l.j4)(s,{key:3,value:e.element.options.value,"onUpdate:value":a[4]||(a[4]=t=>e.element.options.value=t),style:{width:"250px"},options:e.element.options.valueData},null,8,["value","options"])):"rate"==e.element.options.type?((0,l.wg)(),(0,l.j4)(p,{key:4,value:e.element.options.value,"onUpdate:value":a[5]||(a[5]=t=>e.element.options.value=t),style:{"background-color":"rgb(255, 255, 255)"},count:e.element.options.limit},null,8,["value","count"])):"datePicker"==e.element.options.type?((0,l.wg)(),(0,l.j4)(m,{key:5,value:e.element.options.value,"onUpdate:value":a[6]||(a[6]=t=>e.element.options.value=t),format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},null,8,["value"])):"text"==e.element.options.type?((0,l.wg)(),(0,l.j4)(v,{key:6,style:(0,n.j5)({"font-family":e.element.options.fontFamily,"font-size":e.element.options.fontSize+"px"})},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{type:e.element.options.textType},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.element.options.value),1)])),_:1},8,["type"])])),_:1},8,["style"])):"divider"==e.element.options.type?((0,l.wg)(),(0,l.j4)(w,{key:7,style:(0,n.j5)(e.element.options.style),dashed:e.element.options.dashed,orientation:e.element.options.orientation},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.element.options.value),1)])),_:1},8,["style","dashed","orientation"])):(0,l.kq)("",!0)],64)}}},i=a(89);const r=(0,i.Z)(u,[["__scopeId","data-v-6dc9a7b8"]]);var c=r},7784:function(e,t,a){a.d(t,{Z:function(){return m}});var l=a(3396),n=a(7139),o=a(710),u=a(2074),i=a(4870);const r={class:"form-title"};var c={__name:"FormPreview",props:["formDataJson"],setup(e){const t=e,a=(0,i.iH)({title:"表单标题",content:[]});function c(){u.ZP.error("预览页面无法提交",2)}return(0,l.wF)((()=>{a.value=JSON.parse(t.formDataJson)})),(e,t)=>{const u=(0,l.up)("a-layout-sider"),i=(0,l.up)("a-divider"),s=(0,l.up)("a-form-item"),p=(0,l.up)("a-form"),m=(0,l.up)("a-button"),d=(0,l.up)("a-layout");return(0,l.wg)(),(0,l.j4)(d,{class:"container"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{theme:"light",class:"main-left"}),(0,l.Wm)(d,{class:"content"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l._)("div",r,(0,n.zw)(a.value.title),1),(0,l.Wm)(i),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value.content,(e=>((0,l.wg)(),(0,l.j4)(s,{class:"item-content"},{default:(0,l.w5)((()=>[(0,l.Wm)(o.Z,{element:e},null,8,["element"])])),_:2},1024)))),256))])),_:1}),(0,l.Wm)(m,{type:"primary",class:"submit-button",onClick:c},{default:(0,l.w5)((()=>[(0,l.Uk)(" 提交 ")])),_:1})])),_:1}),(0,l.Wm)(u,{theme:"light",class:"main-right"})])),_:1})}}},s=a(89);const p=(0,s.Z)(c,[["__scopeId","data-v-8c9dc790"]]);var m=p},6687:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var l=a(3396),n=a(4870),o=a(7139),u=a(4161),i=a(85),r=a(7784),c=a(7205),s=a(6729),p=a(2235),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},d=m,v=a(9388);function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){f(e,t,a[t])}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=function(e,t){var a=w({},e,t.attrs);return(0,l.Wm)(v.Z,w({},a,{icon:d}),null)};h.displayName="LinkOutlined",h.inheritAttrs=!1;var y=h,g=a(6888),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"qrcode",theme:"outlined"},b=k;function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){_(e,t,a[t])}))}return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var C=function(e,t){var a=z({},e,t.attrs);return(0,l.Wm)(v.Z,z({},a,{icon:b}),null)};C.displayName="QrcodeOutlined",C.inheritAttrs=!1;var W=C;const U=e=>((0,l.dD)("data-v-0b014d37"),e=e(),(0,l.Cn)(),e),S={class:"operation"},j=U((()=>(0,l._)("div",null," 链接：",-1)));var O={__name:"FormCollection",setup(e){const t=(0,n.iH)(0),a=(0,n.iH)(1),m=(0,n.iH)(10),d=(0,n.iH)(""),v=(0,n.iH)(!1),w=(0,n.iH)([]),f=(0,n.iH)([{title:"序号",dataIndex:"key",key:"key"},{title:"表单名称",dataIndex:"title",key:"title"},{title:"发布时间",dataIndex:"date",key:"date"},{title:"收集答卷数量",dataIndex:"answerNum",key:"answerNum"},{title:"表单操作",dataIndex:"operation"}]),h=(0,n.iH)(""),k=(0,n.iH)({title:"表单标题",content:[]}),b=(0,n.iH)(150),z=(0,n.iH)(!1),_=(0,n.iH)(!1);function C(e){w.value=e.map(((e,t)=>{const l=JSON.parse(e);return l.key=((a.value-1)*m.value+t+1).toString(),l}))}function U(e,a,l){v.value=!0,u.Z.get("formShow.do",{params:{PageIndex:e,PageSize:a,QueryParam:l}}).then((e=>{t.value=e.data.formDataTotal,C(e.data.formDataGroup),v.value=!1})).catch((e=>{console.log(e)}))}function O(e,t){U(e,t,d.value)}function x(e){window.open(e)}function H(e){h.value=e,z.value=!0}function D(e){k.value=e,_.value=!0}function Z(){_.value=!1}return(0,l.bv)((()=>{U(a.value,m.value,d.value)})),(e,u)=>{const C=(0,l.up)("a-input-search"),P=(0,l.up)("a-pagination"),Y=(0,l.up)("a-divider"),I=(0,l.up)("a-button"),V=(0,l.up)("a-table"),M=(0,l.up)("a-typography-link"),q=(0,l.up)("a-layout"),L=(0,l.up)("a-modal"),N=(0,l.up)("a-drawer");return(0,l.wg)(),(0,l.j4)(q,{class:"container"},{default:(0,l.w5)((()=>[(0,l._)("div",S,[(0,l.Wm)(C,{value:d.value,"onUpdate:value":u[0]||(u[0]=e=>d.value=e),placeholder:"请输入表单名称",loading:v.value,"enter-button":!v.value,class:"search-button",onSearch:u[1]||(u[1]=(e,t)=>U(1,m.value,e))},null,8,["value","loading","enter-button"]),(0,l.Wm)(P,{current:a.value,"onUpdate:current":u[2]||(u[2]=e=>a.value=e),pageSize:m.value,"onUpdate:pageSize":u[3]||(u[3]=e=>m.value=e),total:t.value,showSizeChanger:!1,"show-total":e=>`总共有 ${e} 条记录`,"show-less-items":"","show-quick-jumper":"",class:"pagination",onChange:u[4]||(u[4]=(e,t)=>O(e,t))},null,8,["current","pageSize","total","show-total"])]),(0,l.Wm)(Y,{class:"divider"}),(0,l.Wm)(V,{dataSource:w.value,columns:f.value,pagination:!1,loading:v.value,size:"small",style:{"margin-left":"10px","margin-right":"10px"},bordered:""},{bodyCell:(0,l.w5)((({column:e,text:t,record:a})=>["operation"===e.dataIndex?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(I,{onClick:()=>D(a.formData),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(p.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 预览 ")])),_:2},1032,["onClick"]),(0,l.Wm)(I,{onClick:()=>x(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(y))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 打开链接 ")])),_:2},1032,["onClick"]),(0,l.Wm)(I,{onClick:()=>(0,n.SU)(s.z)(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(g.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 复制链接 ")])),_:2},1032,["onClick"]),(0,l.Wm)(I,{onClick:()=>H(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(W))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 二维码 ")])),_:2},1032,["onClick"]),(0,l.Wm)(I,{onClick:()=>(0,n.SU)(s.z)(a.formData),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(g.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 复制 JSON ")])),_:2},1032,["onClick"])],64)):(0,l.kq)("",!0)])),title:(0,l.w5)((()=>[(0,l.Uk)("已发布表单的统计信息")])),_:1},8,["dataSource","columns","loading"]),(0,l.Wm)(L,{visible:z.value,"onUpdate:visible":u[6]||(u[6]=e=>z.value=e),title:"二维码生成",okText:"确定",cancelText:" ",destroyOnClose:!0,onOk:u[7]||(u[7]=()=>z.value=!1)},{default:(0,l.w5)((()=>[j,(0,l.Wm)(M,{href:h.value,target:"_blank"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(h.value),1)])),_:1},8,["href"]),(0,l.Wm)(q,{style:{"align-items":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i.Z,{value:h.value,size:b.value,id:"qrcode",style:{border:"2px solid rgb(55, 55, 255)"}},null,8,["value","size"]),(0,l.Wm)(I,{class:"download-button",onClick:u[5]||(u[5]=()=>(0,n.SU)(c.A)("qrcode","qrcode.png"))},{default:(0,l.w5)((()=>[(0,l.Uk)("下载")])),_:1})])),_:1})])),_:1},8,["visible"]),(0,l.Wm)(N,{width:500,size:"large",title:"表单预览",placement:"top",visible:_.value,destroyOnClose:!0,onClose:Z},{extra:(0,l.w5)((()=>[(0,l.Wm)(I,{type:"primary",onClick:Z},{default:(0,l.w5)((()=>[(0,l.Uk)("关闭预览")])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(r.Z,{"form-data-json":k.value},null,8,["form-data-json"])])),_:1},8,["visible"])])),_:1})}}},x=a(89);const H=(0,x.Z)(O,[["__scopeId","data-v-0b014d37"]]);var D=H}}]);
//# sourceMappingURL=687.5f28f55e.js.map
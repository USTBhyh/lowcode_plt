{"version":3,"file":"js/341.8e5cb8b6.js","mappings":"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","sources":["webpack://lowcode/./src/utils/copyText.js","webpack://lowcode/./src/components/Form/FormGenerator.vue","webpack://lowcode/./src/components/Form/FormPreview.vue","webpack://lowcode/./src/components/Form/FormPreview.vue?2619","webpack://lowcode/./node_modules/@ant-design/icons-svg/es/asn/LinkOutlined.js","webpack://lowcode/./node_modules/@ant-design/icons-vue/es/icons/LinkOutlined.js","webpack://lowcode/./node_modules/@ant-design/icons-svg/es/asn/QrcodeOutlined.js","webpack://lowcode/./node_modules/@ant-design/icons-vue/es/icons/QrcodeOutlined.js","webpack://lowcode/./src/views/admin/FormCollection.vue","webpack://lowcode/./src/views/admin/FormCollection.vue?ca34"],"sourcesContent":["// 文本复制至剪贴板\r\n\r\nimport { message } from \"ant-design-vue\";\r\n\r\n/**\r\n * 文本复制\r\n * @param {String} text 待复制的文本\r\n */\r\nexport const copyText = (text) => {\r\n  // 只支持　https 和 localhost 环境\r\n  if(navigator.clipboard) {\r\n    navigator.clipboard.writeText(text)\r\n    .then(() => {\r\n      message.success(\"复制成功\", 2);\r\n    }).catch((error) => {\r\n      message.success(\"复制失败\", 2);\r\n      console.log(error);\r\n    })\r\n  }\r\n  else {\r\n    const inputElement = document.createElement(\"input\");\r\n    inputElement.value = text;\r\n    document.body.appendChild(inputElement);\r\n    inputElement.select();\r\n    inputElement.setSelectionRange(0, inputElement.value.length);\r\n    document.execCommand('Copy');\r\n    document.body.removeChild(inputElement);\r\n    message.success(\"复制成功\", 2);\r\n  }\r\n}","import script from \"./FormGenerator.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormGenerator.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FormGenerator.vue?vue&type=style&index=0&id=6dc9a7b8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\86153\\\\OneDrive\\\\桌面\\\\软工\\\\lowcode\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6dc9a7b8\"]])\n\nexport default __exports__","<template>\r\n  <a-layout class=\"container\">\r\n    <a-layout-sider theme=\"light\" class=\"main-left\">\r\n    </a-layout-sider>\r\n    \r\n    <a-layout class=\"content\">\r\n      <a-form>\r\n        <div class=\"form-title\">\r\n          {{ formData.title }}\r\n        </div>\r\n\r\n        <a-divider></a-divider>\r\n        \r\n        <template v-for=\"item in formData.content\">\r\n          <a-form-item class=\"item-content\">\r\n            <FormGenerator :element=\"item\" />\r\n          </a-form-item>\r\n        </template>  \r\n      \r\n      </a-form>\r\n      \r\n      <a-button type=\"primary\" class=\"submit-button\" @click=\"submit\"> 提交 </a-button>\r\n      \r\n    </a-layout>\r\n\r\n    <a-layout-sider theme=\"light\" class=\"main-right\">\r\n    </a-layout-sider>\r\n  </a-layout>\r\n</template>\r\n\r\n<script setup>\r\nimport FormGenerator from \"@/components/Form/FormGenerator.vue\";\r\nimport { message } from \"ant-design-vue\";\r\nimport { onBeforeMount, ref } from \"vue\";\r\n\r\nconst props = defineProps([\"formDataJson\"]);\r\n\r\n// 表单信息\r\nconst formData = ref({\"title\":\"表单标题\",\"content\":[]});\r\n\r\n// 提交表单\r\nfunction submit() {\r\n  message.error(\"预览页面无法提交\", 2);\r\n}\r\n\r\n// 在组件被挂载调用\r\nonBeforeMount(() => {\r\n  formData.value = JSON.parse(props.formDataJson);\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  height: 100%;\r\n}\r\n\r\n.content {\r\n  overflow-y: scroll;\r\n}\r\n\r\n.form-title {\r\n  text-align: center;\r\n  font-size: 1rem;\r\n  font-family:  Georgia, 'Times New Roman', Times, serif;\r\n  margin-top: 10px;\r\n}\r\n\r\n.item-content {\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.submit-button {\r\n  margin: 0 auto;\r\n  width: 100px;\r\n}\r\n\r\n@media (max-width: 680px) {\r\n  .main-left,\r\n  .main-right {\r\n    display: none;\r\n  }\r\n}\r\n</style>","import script from \"./FormPreview.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormPreview.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FormPreview.vue?vue&type=style&index=0&id=8c9dc790&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\86153\\\\OneDrive\\\\桌面\\\\软工\\\\lowcode\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8c9dc790\"]])\n\nexport default __exports__","// This icon file is generated automatically.\nvar LinkOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\" } }] }, \"name\": \"link\", \"theme\": \"outlined\" };\nexport default LinkOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport LinkOutlinedSvg from \"@ant-design/icons-svg/es/asn/LinkOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LinkOutlined = function LinkOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": LinkOutlinedSvg\n  }), null);\n};\n\nLinkOutlined.displayName = 'LinkOutlined';\nLinkOutlined.inheritAttrs = false;\nexport default LinkOutlined;","// This icon file is generated automatically.\nvar QrcodeOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"qrcode\", \"theme\": \"outlined\" };\nexport default QrcodeOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport QrcodeOutlinedSvg from \"@ant-design/icons-svg/es/asn/QrcodeOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar QrcodeOutlined = function QrcodeOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": QrcodeOutlinedSvg\n  }), null);\n};\n\nQrcodeOutlined.displayName = 'QrcodeOutlined';\nQrcodeOutlined.inheritAttrs = false;\nexport default QrcodeOutlined;","<template>\r\n  <!-- 表单信息收集页面 -->\r\n  <a-layout class=\"container\">\r\n    <!-- 表单信息收集的相关操作 -->\r\n    <div class=\"operation\">\r\n      <!-- 搜索框 -->\r\n      <a-input-search\r\n        v-model:value=\"formTitle\"\r\n        placeholder=\"请输入表单名称\"\r\n        :loading = \"loading\"\r\n        :enter-button=\"!loading\"\r\n        class=\"search-button\"\r\n        @search=\"(value, event) => search(1, pageSize, value)\"\r\n      />\r\n      <!-- 分页器 -->\r\n      <a-pagination \r\n        v-model:current=\"current\" \r\n        v-model:pageSize=\"pageSize\"\r\n        :total=\"formDataTotal\"\r\n        :showSizeChanger=\"false\"\r\n        :show-total=\"total => `总共有 ${total} 条记录`\"\r\n        show-less-items\t\r\n        show-quick-jumper\r\n        class=\"pagination\"\r\n        @change=\"(page, pageSize) => pageChange(page, pageSize)\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 分割线 -->\r\n    <a-divider class=\"divider \"></a-divider>\r\n\r\n    <!-- 表单信息集合 -->\r\n    <a-table\r\n      :dataSource=\"formDataGroup\" \r\n      :columns=\"columns\"\r\n      :pagination=\"false\"\r\n      :loading=\"loading\"  \r\n      size=\"small\"\r\n      style=\"margin-left: 10px; margin-right: 10px;\"\r\n      bordered\r\n    >\r\n      <template #bodyCell=\"{ column, text, record }\">\r\n        <template v-if=\"column.dataIndex === 'operation'\">     \r\n          <a-button @click=\"() => previewShow(record.formData)\" size=\"small\">\r\n            <template #icon>\r\n              <eye-outlined />\r\n            </template>\r\n            预览\r\n          </a-button>\r\n          <a-button @click=\"() => openLink(record.url)\" size=\"small\">\r\n            <template #icon>\r\n              <link-outlined />\r\n            </template>\r\n            打开链接\r\n          </a-button>\r\n          <a-button @click=\"() => copyText(record.url)\" size=\"small\">\r\n            <template #icon>\r\n              <copy-outlined />\r\n            </template>\r\n            复制链接\r\n          </a-button>\r\n          <a-button @click=\"() => qrcodeCreate(record.url)\" size=\"small\">\r\n            <template #icon>\r\n              <qrcode-outlined />\r\n            </template>\r\n            二维码\r\n          </a-button>\r\n          <a-button @click=\"() => copyText(record.formData)\" size=\"small\">\r\n            <template #icon>\r\n              <copy-outlined />\r\n            </template>\r\n            复制 JSON\r\n          </a-button>\r\n        </template>\r\n      </template>\r\n      <template #title>已发布表单的统计信息</template>\r\n    </a-table>\r\n\r\n    <!-- 提示等 -->\r\n    <!-- 二维码生成 -->\r\n    <a-modal\r\n      v-model:visible=\"qrcodeVisible\" \r\n      title=\"二维码生成\"\r\n      okText=\"确定\"\r\n      cancelText=\" \"\r\n      :destroyOnClose=true\r\n      @ok=\"() => qrcodeVisible = false\"\r\n    >\r\n      <div> 链接：</div>\r\n      <a-typography-link :href=\"selectedUrl\" target=\"_blank\">\r\n        {{ selectedUrl }}\r\n      </a-typography-link>\r\n      <a-layout style=\"align-items: center;\">\r\n        <qrcode-vue \r\n          :value=\"selectedUrl\" \r\n          :size=\"size\" \r\n          id=\"qrcode\" \r\n          style=\"border: 2px solid rgb(55, 55, 255);\"\r\n        />\r\n        <a-button class=\"download-button\" @click=\"() => qrcodeDownload('qrcode', 'qrcode.png')\">下载</a-button>\r\n      </a-layout>\r\n    </a-modal>\r\n    <!-- 表单预览框 -->\r\n    <a-drawer\r\n      :width=\"500\"\r\n      size=\"large\"\r\n      title=\"表单预览\"\r\n      placement=\"top\"\r\n      :visible=\"previewVisible\"\r\n      :destroyOnClose=true\r\n      @close=\"previewClose\"\r\n    >\r\n      <template #extra>\r\n        <a-button type=\"primary\" @click=\"previewClose\">关闭预览</a-button>\r\n      </template>\r\n      <FormPreview :form-data-json=\"selectedJson\" />\r\n    </a-drawer>\r\n  </a-layout>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from 'vue';\r\nimport axios from 'axios';\r\nimport QrcodeVue from 'qrcode.vue';\r\nimport FormPreview from '@/components/Form/FormPreview.vue';\r\nimport { qrcodeDownload } from '@/utils/qrcodeApi';\r\nimport { copyText } from '@/utils/copyText';\r\nimport { EyeOutlined, LinkOutlined, CopyOutlined, QrcodeOutlined } from '@ant-design/icons-vue';\r\nimport { message } from 'ant-design-vue';\r\n\r\n// 记录总条数\r\nconst formDataTotal = ref(0);\r\n// 当前页\r\nconst current = ref(1);\r\n// 每页条数\r\nconst pageSize = ref(10);\r\n\r\n// 待搜索的表单名称\r\nconst formTitle = ref(\"\");\r\n// 搜索执行情况\r\nconst loading = ref(false);\r\n\r\n// 表单信息集合\r\nconst formDataGroup = ref([]);\r\n\r\n// 表格列的配置描述\r\nconst columns = ref([\r\n  {\r\n    title: '序号',\r\n    dataIndex: 'key',\r\n    key: 'key',\r\n  },\r\n  {\r\n    title: '表单名称',\r\n    dataIndex: 'title',\r\n    key: 'title',\r\n  },\r\n  {\r\n    title: '发布时间',\r\n    dataIndex: 'date',\r\n    key: 'date',\r\n  },\r\n  {\r\n    title: '收集答卷数量',\r\n    dataIndex: 'answerNum',\r\n    key: 'answerNum',\r\n  },\r\n  {\r\n    title: '表单操作',\r\n    dataIndex: 'operation',\r\n  }\r\n]);\r\n\r\n// 选中表单相应的地址\r\nconst selectedUrl = ref(\"\");\r\n\r\n// 选中表单相应的 formDataJson\r\nconst selectedJson = ref({\"title\":\"表单标题\",\"content\":[]});\r\n\r\n// 二维码大小\r\nconst size = ref(150);\r\n\r\n// 二维码显示情况\r\nconst qrcodeVisible = ref(false);\r\n\r\n// 预览框的显示情况\r\nconst previewVisible = ref(false);\r\n\r\n// 创建表单信息集合\r\nfunction createFormDataGroup(data) {\r\n  formDataGroup.value = data.map((val, index) => {\r\n    const formInfo = JSON.parse(val);\r\n    formInfo.key = ((current.value - 1) * pageSize.value + index + 1).toString();\r\n    return formInfo;\r\n  });\r\n}\r\n\r\n// 信息搜索\r\nfunction search(page, pageSize, value) {\r\n  // 后端接入后使用\r\n  // loading.value = true;\r\n  axios.get(\"formShow.do\", {\r\n    params: {\r\n      // 当前页\r\n      PageIndex: page,\r\n      // 每页记录数\r\n      PageSize: pageSize,\r\n      // 其他的查询字段\r\n      QueryParam: value\r\n    },\r\n  }).then((result) => {\r\n    formDataTotal.value = result.data.formDataTotal;\r\n    createFormDataGroup(result.data.formDataGroup);\r\n    loading.value = false;\r\n  }).catch((error) => {\r\n    message.error(\"数据获取失败\", 2);\r\n    console.log(error);\r\n  });\r\n}\r\n\r\n// 页数改变 \r\nfunction pageChange(page, pageSize) {\r\n  search(page, pageSize, formTitle.value);\r\n}\r\n\r\n// 页面跳转 => 打开新页面\r\nfunction openLink(url) {\r\n  window.open(url);\r\n}\r\n\r\n// 二维码生成\r\nfunction qrcodeCreate(url) {\r\n  selectedUrl.value = url;\r\n  qrcodeVisible.value = true;  \r\n}\r\n\r\n// 预览表单\r\nfunction previewShow(formData) {\r\n  selectedJson.value = formData;\r\n  previewVisible.value = true;\r\n}\r\n\r\n// 关闭表单预览\r\nfunction previewClose() {\r\n  previewVisible.value = false;\r\n}\r\n\r\n// 在组件挂载完成后执行\r\nonMounted(() => {\r\n  // 初始值为 1 10 \"\"\r\n  search(current.value, pageSize.value, formTitle.value);\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  height: 100%;\r\n}\r\n\r\n.operation {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.search-button {\r\n  margin: 10px;\r\n  width: 360px;\r\n}\r\n\r\n.pagination {\r\n  margin: 10px;\r\n}\r\n\r\n.divider {\r\n  margin-top: 0;\r\n  /* border-color: #1890ff; */\r\n}\r\n\r\n.download-button {\r\n  width: 100px;\r\n}\r\n\r\n@media (max-height: 480px) {\r\n  /* \r\n  .container {\r\n    display: none;\r\n  } \r\n  */\r\n}\r\n</style>","import script from \"./FormCollection.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormCollection.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FormCollection.vue?vue&type=style&index=0&id=00ce8cc2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\86153\\\\OneDrive\\\\桌面\\\\软工\\\\lowcode\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-00ce8cc2\"]])\n\nexport default __exports__"],"names":["copyText","text","navigator","clipboard","writeText","then","message","catch","error","console","log","inputElement","document","createElement","value","body","appendChild","select","setSelectionRange","length","execCommand","removeChild","__exports__","formData","ref","submit","onBeforeMount","JSON","parse","props","formDataJson","LinkOutlined","_objectSpread","target","i","arguments","source","Object","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","defineProperty","configurable","writable","context","p","attrs","_createVNode","AntdIcon","LinkOutlinedSvg","displayName","inheritAttrs","QrcodeOutlined","QrcodeOutlinedSvg","formDataTotal","current","pageSize","formTitle","loading","formDataGroup","columns","title","dataIndex","selectedUrl","selectedJson","size","qrcodeVisible","previewVisible","createFormDataGroup","data","map","val","index","formInfo","toString","search","page","axios","params","PageIndex","PageSize","QueryParam","result","pageChange","openLink","url","window","open","qrcodeCreate","previewShow","previewClose","onMounted"],"sourceRoot":""}
{"version":3,"file":"js/993.1b8c2674.js","mappings":"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","sources":["webpack://lowcode/./node_modules/@ant-design/icons-svg/es/asn/MinusCircleOutlined.js","webpack://lowcode/./node_modules/@ant-design/icons-vue/es/icons/MinusCircleOutlined.js","webpack://lowcode/./node_modules/@ant-design/icons-svg/es/asn/PlusCircleOutlined.js","webpack://lowcode/./node_modules/@ant-design/icons-vue/es/icons/PlusCircleOutlined.js","webpack://lowcode/./node_modules/@ant-design/icons-svg/es/asn/SyncOutlined.js","webpack://lowcode/./node_modules/@ant-design/icons-vue/es/icons/SyncOutlined.js","webpack://lowcode/./src/views/admin/ModeDefinition.vue","webpack://lowcode/./src/views/admin/ModeDefinition.vue?7848"],"sourcesContent":["// This icon file is generated automatically.\nvar MinusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"minus-circle\", \"theme\": \"outlined\" };\nexport default MinusCircleOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport MinusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MinusCircleOutlined = function MinusCircleOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": MinusCircleOutlinedSvg\n  }), null);\n};\n\nMinusCircleOutlined.displayName = 'MinusCircleOutlined';\nMinusCircleOutlined.inheritAttrs = false;\nexport default MinusCircleOutlined;","// This icon file is generated automatically.\nvar PlusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"plus-circle\", \"theme\": \"outlined\" };\nexport default PlusCircleOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport PlusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlusCircleOutlined = function PlusCircleOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": PlusCircleOutlinedSvg\n  }), null);\n};\n\nPlusCircleOutlined.displayName = 'PlusCircleOutlined';\nPlusCircleOutlined.inheritAttrs = false;\nexport default PlusCircleOutlined;","// This icon file is generated automatically.\nvar SyncOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z\" } }] }, \"name\": \"sync\", \"theme\": \"outlined\" };\nexport default SyncOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport SyncOutlinedSvg from \"@ant-design/icons-svg/es/asn/SyncOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SyncOutlined = function SyncOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": SyncOutlinedSvg\n  }), null);\n};\n\nSyncOutlined.displayName = 'SyncOutlined';\nSyncOutlined.inheritAttrs = false;\nexport default SyncOutlined;","<template>\r\n  <!-- 模式定义界面 -->\r\n  <a-layout class=\"container\">\r\n    <!-- 模式定义的相关操作 -->\r\n    <div class=\"operation\">\r\n      <!-- 添加数据模式按钮 -->\r\n      <a-button @click=\"addSchema\" shape=\"round\">\r\n        <template #icon>\r\n          <plus-circle-outlined />\r\n        </template>\r\n        添加数据模式\r\n      </a-button>\r\n      <!-- 更新数据模式按钮 -->\r\n      <a-popconfirm\r\n        title=\"确定要更新数据吗\"\r\n        placement=\"bottom\"\r\n        ok-text=\"确定\"\r\n        cancel-text=\"取消\"\r\n        @confirm=\"confirm\"\r\n      >\r\n        <a-button shape=\"round\">\r\n          <template #icon>\r\n            <sync-outlined />\r\n          </template>\r\n          更新数据模式\r\n        </a-button>\r\n      </a-popconfirm>\r\n    </div>\r\n\r\n    <!-- 分割线 -->\r\n    <a-divider class=\"divider\"></a-divider>\r\n\r\n    <!-- 数据模式信息 -->\r\n    <a-table\r\n      :dataSource=\"schemas\" \r\n      :columns=\"columns\"\r\n      :pagination=\"false\"\r\n      :loading=\"loading\"  \r\n      size=\"small\"\r\n      style=\"margin-left: 10px; margin-right: 10px;\"\r\n      bordered\r\n    >\r\n      <template #bodyCell=\"{ column, text, record }\">\r\n        <template v-if=\"column.dataIndex === 'schemaName'\">\r\n          <a-input \r\n            v-model:value=\"record.schemaName\"\r\n            placeholder=\"请输入数据模式名称\"\r\n          >\r\n          </a-input>\r\n        </template>\r\n        <template v-else-if=\"column.dataIndex === 'operation'\">\r\n          <a-button @click=\"() => showFields(record.fields)\" size=\"small\">\r\n            <template #icon>\r\n              <eye-outlined />\r\n            </template>\r\n            查看字段\r\n          </a-button> \r\n          <a-button @click=\"() => editFields(record.fields)\" size=\"small\">\r\n            <template #icon>\r\n              <edit-outlined />\r\n            </template>\r\n            编辑字段\r\n          </a-button>\r\n          <a-popconfirm\r\n            title=\"确定删除\"\r\n            placement=\"bottom\"\r\n            ok-text=\"确定\"\r\n            cancel-text=\"取消\"\r\n            @confirm=\"() => deleteSchema(record.key)\"\r\n          >\r\n            <a-button size=\"small\">\r\n              <template #icon>\r\n                <minus-circle-outlined />\r\n              </template>\r\n              删除数据模式\r\n            </a-button>\r\n          </a-popconfirm>\r\n        </template>\r\n      </template>\r\n      <template #title>\r\n        模式定义信息\r\n      </template>\r\n    </a-table>\r\n\r\n  </a-layout>\r\n\r\n  <!-- 提示等 -->\r\n  <!-- 编辑字段提示框 -->\r\n  <a-modal editFieldVisible\r\n    v-model:visible=\"editFieldVisible\" \r\n    title=\"编辑字段\" \r\n    cancelText=\" \"\r\n    okText=\"确认\"\r\n    :destroyOnClose=true\r\n    @ok=\"editFieldsOk\"\r\n  >\r\n    <a-button @click=\"addField\">\r\n      <template #icon>\r\n        <plus-circle-outlined />\r\n      </template>\r\n      添加字段\r\n    </a-button>\r\n    <div v-for=\"(field, fieldIndex) in selectedFields\" :key=\"fieldIndex\">\r\n      <a-input \r\n        v-model:value=\"field.fieldName\" \r\n        placeholder=\"字段名称\" \r\n      >\r\n        <template #addonAfter>\r\n          <minus-circle-outlined @click=\"() => deleteField(fieldIndex)\"/>\r\n        </template>\r\n      </a-input>\r\n    </div>\r\n  </a-modal>\r\n  <!-- 查看字段提示框 -->\r\n  <a-modal\r\n    v-model:visible=\"showFieldVisible\" \r\n    title=\"查看字段\"\r\n    cancelText=\" \"\r\n    okText=\"确认\"\r\n    :destroyOnClose=true\r\n    @ok=\"showFieldsOk\"\r\n  >\r\n    <div v-for=\"(field, fieldIndex) in selectedFields\" :key=\"fieldIndex\">\r\n      <a-input \r\n        v-model:value=\"field.fieldName\" \r\n        placeholder=\"字段名称\"\r\n        disabled\r\n      >\r\n      </a-input>\r\n    </div>\r\n  </a-modal>\r\n</template>\r\n\r\n<script setup>\r\nimport { onBeforeMount, ref } from \"vue\";\r\nimport { message } from 'ant-design-vue';\r\nimport axios from \"axios\";\r\nimport { SyncOutlined, EyeOutlined, EditOutlined, MinusCircleOutlined, PlusCircleOutlined } from '@ant-design/icons-vue';\r\n\r\n// 数据模式\r\nconst schemas = ref([]);\r\n\r\n// 选中编辑字段\r\nconst selectedFields = ref([]);\r\n\r\n// 查看字段提示框\r\nconst showFieldVisible = ref(false);\r\n\r\n// 编辑字段提示框\r\nconst editFieldVisible = ref(false);\r\n\r\n// 表格列的配置描述\r\nconst columns = ref([\r\n  {\r\n    title: '序号',\r\n    dataIndex: 'key',\r\n    key: 'key',\r\n  },\r\n  {\r\n    title: '数据模式名称',\r\n    dataIndex: 'schemaName',\r\n    key: 'schemaName',\r\n  },\r\n  {\r\n    title: '数据模式操作',\r\n    dataIndex: 'operation',\r\n  }\r\n]);\r\n\r\n// 添加数据模式\r\nfunction addSchema() {\r\n  schemas.value.push({\r\n    key: schemas.value.length + 1,\r\n    schemaName: '',\r\n    fields: []\r\n  });\r\n}\r\n\r\n// 添加字段\r\nfunction addField() {\r\n  selectedFields.value.push({ fieldName: '' });\r\n}\r\n\r\n// 删除字段\r\nfunction deleteField(fieldIndex) {\r\n  selectedFields.value.splice(fieldIndex, 1);\r\n}\r\n\r\n// 查看字段\r\nfunction showFields(fields) {\r\n  selectedFields.value = fields;\r\n  showFieldVisible.value = true;\r\n}\r\n\r\n// 查看字段\r\nfunction showFieldsOk() {\r\n  showFieldVisible.value = false;\r\n}\r\n\r\n// 编辑字段\r\nfunction editFields(fields) {\r\n  selectedFields.value = fields;\r\n  editFieldVisible.value = true;\r\n}\r\n\r\n// 编辑字段完成确认\r\nfunction editFieldsOk() {\r\n  editFieldVisible.value = false;\r\n  message.success(\"字段编辑成功\");\r\n}\r\n\r\n// 删除模式\r\nfunction deleteSchema(key) {\r\n  schemas.value = schemas.value.filter(val => val.key != key);\r\n  schemas.value.forEach((val, index) => {\r\n    val.key = index + 1;\r\n  });\r\n}\r\n\r\n// 更新字段确认\r\nfunction confirm(e) {\r\n  submitData();\r\n}\r\n\r\n// 提交修改\r\nfunction submitData() {\r\n  // 深拷贝\r\n  const newSchemas = JSON.parse(JSON.stringify(schemas.value));\r\n  // fields 字段过滤\r\n  for(let schema of newSchemas) {\r\n    const arr = schema.fields.map(field => field.fieldName);\r\n    schema.fields = arr;\r\n  }\r\n  // 使用 axios 方式发送数据\r\n  axios.post('saveType.do', newSchemas)\r\n    .then(response => {\r\n      console.log(response.data);\r\n      if(response.data==\"Type saved!\") {\r\n        message.success(\"成功更新数据模式\");\r\n      }\r\n    })\r\n    .catch(error => {\r\n      message.error(\"更新数据模式失败\");\r\n      console.log(error);\r\n    });\r\n}\r\n\r\n// 页面载入时 dom 未挂载时使用\r\nonBeforeMount(() => {\r\n  axios.get('getType.do')\r\n    .then(result => {\r\n      const newSchemas = result.data;\r\n      schemas.value = newSchemas.map((val, index) => {\r\n        val.fields = val.fields.map(field => ({\r\n          \"fieldName\": field\r\n        }));\r\n        return {\r\n          \"key\": index + 1,\r\n          \"schemaName\": val.schemaName,\r\n          \"fields\": val.fields\r\n        };\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.operation {\r\n  margin: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.divider {\r\n  margin-top: 0;\r\n  /* border-color: #1890ff; */\r\n}\r\n\r\n@media (max-height: 560px) {\r\n  /* .container {\r\n    display: none;\r\n  } */\r\n}\r\n</style>","import script from \"./ModeDefinition.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ModeDefinition.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ModeDefinition.vue?vue&type=style&index=0&id=1ac2b680&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\86153\\\\OneDrive\\\\桌面\\\\软工\\\\lowcode\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1ac2b680\"]])\n\nexport default __exports__"],"names":["MinusCircleOutlined","_objectSpread","target","i","arguments","length","source","Object","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","props","context","p","attrs","_createVNode","AntdIcon","MinusCircleOutlinedSvg","displayName","inheritAttrs","PlusCircleOutlined","PlusCircleOutlinedSvg","SyncOutlined","SyncOutlinedSvg","schemas","ref","selectedFields","showFieldVisible","editFieldVisible","columns","title","dataIndex","addSchema","push","schemaName","fields","addField","fieldName","deleteField","fieldIndex","splice","showFields","showFieldsOk","editFields","editFieldsOk","message","deleteSchema","val","index","confirm","e","submitData","newSchemas","JSON","parse","stringify","schema","arr","map","field","axios","then","response","console","log","data","catch","error","onBeforeMount","result","__exports__"],"sourceRoot":""}
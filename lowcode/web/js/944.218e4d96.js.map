{"version":3,"file":"js/944.218e4d96.js","mappings":"45CAMA,MAAMA,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,4OCyBA,MAAMC,EAAYC,OAAOC,SAASC,MAC3BC,EAAQC,GAAUL,EAAUM,MAAM,UACnCC,EAAQF,EACdG,QAAQC,IAAIF,GAIZ,MAAMG,GAAWC,EAAAA,EAAAA,MAGjB,IAAIC,EAAS,IAAIC,gBAiBjB,SAASC,IACP,MAAMC,EAAaL,EAASM,MAAMC,QAAQC,KAAKC,IAAG,CAChDC,MAAOD,EAAIC,MACXC,KAAMF,EAAIE,KACVL,MAAOG,EAAIG,QAAQN,MACnBO,IAAKhB,MAEDiB,EAAiBC,KAAKC,UAAUX,GACtCY,EAAAA,EAAAA,KAAW,cAAe,CACxBZ,WAAYS,IAEbI,MAAMC,IACLrB,QAAQC,IAAIoB,EAAOC,KAAKpB,UACxBqB,EAAAA,EAAAA,KAAY,0BAA0B,IAErCC,OAAOC,IACRzB,QAAQC,IAAIwB,EAAI,GAEpB,C,OAjCArB,EAAOsB,OAAO,MAAM3B,GACpBoB,EAAAA,EAAAA,KAAW,cAAcf,GACtBgB,MAAMC,IACLrB,QAAQC,IAAIoB,EAAOC,MAGnBpB,EAASM,MAAQa,EAAOC,IAAI,IAC3BE,OAAOC,IACRzB,QAAQC,IAAIwB,EAAI,IAIpBzB,QAAQC,IAAI,Q,iqBCnDZ,MAAMV,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://lowcode/./src/components/Form/FormGenerator.vue","webpack://lowcode/./src/views/PublicSubmission.vue","webpack://lowcode/./src/views/PublicSubmission.vue?2c62"],"sourcesContent":["import script from \"./FormGenerator.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormGenerator.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FormGenerator.vue?vue&type=style&index=0&id=458a71cb&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\86153\\\\OneDrive\\\\桌面\\\\lowcode\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-458a71cb\"]])\n\nexport default __exports__","<template>\r\n  <a-layout class=\"container\">\r\n    <a-layout-sider theme=\"light\" class=\"main-left\">\r\n    </a-layout-sider>\r\n    \r\n    <a-layout class=\"content\">\r\n      <div class=\"form-title\">\r\n        {{ formData.title }}\r\n      </div>\r\n\r\n      <a-divider></a-divider>\r\n      \r\n      <template v-for=\"item in formData.content\">\r\n        <div class=\"item-content\">\r\n          <FormGenerator :element=\"item\" />\r\n        </div>\r\n      </template>\r\n\r\n      <a-button type=\"primary\" class=\"submit-button\" @click=\"submit\"> 提交 </a-button>\r\n    </a-layout>\r\n\r\n    <a-layout-sider theme=\"light\" class=\"main-right\">\r\n    </a-layout-sider>\r\n  </a-layout>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport FormGenerator from \"@/components/Form/FormGenerator.vue\";\r\nimport axios from \"axios\";\r\nimport router from '@/router'\r\n\r\n// **********修改************ //\r\nconst hashValue = window.location.hash;\r\nconst [prefix, suffix] = hashValue.split('?key1='); // 拆分字符串，获取前缀和后缀\r\nconst m_url = suffix;\r\nconsole.log(m_url)\r\n// const formData = ref(m_formData);\r\n// **********修改************ //\r\n\r\nconst formData = ref();\r\n\r\n// window.onload = function() {\r\nvar params = new URLSearchParams()\r\n// 参数保存\r\nparams.append(\"url\",m_url)\r\naxios.post('formData.do',params)\r\n  .then((result) => {\r\n    console.log(result.data);\r\n    // var json = JSON.parse(result.data); // 解析 JSON 字符串\r\n    // formData.value = json; // 直接将解析得到的对象赋值给 formData.value\r\n    formData.value = result.data;\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n// }\r\n\r\nconsole.log(\"请求结束\");\r\n\r\n// **************修改，将url一起传回，标志现在在填哪个问卷\r\nfunction submit() {\r\n  const submission = formData.value.content.map((val) => ({\r\n    field: val.field,\r\n    type: val.type,\r\n    value: val.options.value,\r\n    url: m_url\r\n  }));\r\n  const submissionJson = JSON.stringify(submission);\r\n  axios.post('saveData.do', {\r\n    submission: submissionJson\r\n  })\r\n  .then((result) => {\r\n    console.log(result.data.formData);\r\n    router.push(\"/user/submission/finish\");\r\n    // window.location.href = \"http://localhost:8081/demo_war_exploded/index.html#/user/submission/finish\"\r\n  }).catch((err) => {\r\n    console.log(err);\r\n  });\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  height: 100%;\r\n}\r\n\r\n.content {\r\n  overflow-y: scroll;\r\n}\r\n\r\n.form-title {\r\n  text-align: center;\r\n  font-size: 1rem;\r\n  font-family:  Georgia, 'Times New Roman', Times, serif;\r\n  margin-top: 10px;\r\n}\r\n\r\n.item-content {\r\n  margin: 10px;\r\n  border: 1px dashed rgba(55, 55, 55, 0.8);\r\n}\r\n\r\n.submit-button {\r\n  margin: 0 auto;\r\n  width: 100px;\r\n}\r\n\r\n@media (max-width: 680px) {\r\n  .main-left,\r\n  .main-right {\r\n    display: none;\r\n  }\r\n}\r\n</style>","import script from \"./PublicSubmission.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PublicSubmission.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PublicSubmission.vue?vue&type=style&index=0&id=0c0c722c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\86153\\\\OneDrive\\\\桌面\\\\lowcode\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0c0c722c\"]])\n\nexport default __exports__"],"names":["__exports__","hashValue","window","location","hash","prefix","suffix","split","m_url","console","log","formData","ref","params","URLSearchParams","submit","submission","value","content","map","val","field","type","options","url","submissionJson","JSON","stringify","axios","then","result","data","router","catch","err","append"],"sourceRoot":""}
"use strict";(self["webpackChunklowcode"]=self["webpackChunklowcode"]||[]).push([[1],{7735:function(e,t,a){a.d(t,{Z:function(){return i}});var l=a(3396),n=a(7139);const o={class:"item-title"};var r={__name:"FormGenerator",props:["element"],setup(e){return(t,a)=>{const r=(0,l.up)("a-input"),u=(0,l.up)("a-textarea"),c=(0,l.up)("a-divider");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",o,(0,n.zw)(e.element.name),1),"input"==e.element.options.type?((0,l.wg)(),(0,l.j4)(r,{key:0,value:e.element.options.value,"onUpdate:value":a[0]||(a[0]=t=>e.element.options.value=t),allowClear:e.element.options.allowClear,bordered:e.element.options.bordered,placeholder:e.element.options.placeholder,showCount:e.element.options.showCount},null,8,["value","allowClear","bordered","placeholder","showCount"])):"textarea"==e.element.options.type?((0,l.wg)(),(0,l.j4)(u,{key:1,value:e.element.options.value,"onUpdate:value":a[1]||(a[1]=t=>e.element.options.value=t),allowClear:e.element.options.allowClear,autoSize:e.element.options.autoSize,placeholder:e.element.options.placeholder,showCount:e.element.options.showCount},null,8,["value","allowClear","autoSize","placeholder","showCount"])):"divider"==e.element.options.type?((0,l.wg)(),(0,l.j4)(c,{key:2,style:(0,n.j5)(e.element.options.style),dashed:e.element.options.dashed,defaultValue:e.element.options.defaultValue},null,8,["style","dashed","defaultValue"])):(0,l.kq)("",!0)],64)}}},u=a(89);const c=(0,u.Z)(r,[["__scopeId","data-v-458a71cb"]]);var i=c},1001:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var l=a(3396),n=a(4870),o=a(7139),r=a(4161),u=a(85),c=a(7735),i=a(2074);const s={class:"form-title"};var m={__name:"FormPreview",props:["formDataJson"],setup(e){const t=e,a=(0,n.iH)({title:"表单标题",content:[]});function r(){i.ZP.error("预览页面无法提交",2)}return(0,l.wF)((()=>{a.value=JSON.parse(t.formDataJson)})),(e,t)=>{const n=(0,l.up)("a-layout-sider"),u=(0,l.up)("a-divider"),i=(0,l.up)("a-form-item"),m=(0,l.up)("a-form"),d=(0,l.up)("a-button"),v=(0,l.up)("a-layout");return(0,l.wg)(),(0,l.j4)(v,{class:"container"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{theme:"light",class:"main-left"}),(0,l.Wm)(v,{class:"content"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l._)("div",s,(0,o.zw)(a.value.title),1),(0,l.Wm)(u),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value.content,(e=>((0,l.wg)(),(0,l.j4)(i,{class:"item-content"},{default:(0,l.w5)((()=>[(0,l.Wm)(c.Z,{element:e},null,8,["element"])])),_:2},1024)))),256))])),_:1}),(0,l.Wm)(d,{type:"primary",class:"submit-button",onClick:r},{default:(0,l.w5)((()=>[(0,l.Uk)(" 提交 ")])),_:1})])),_:1}),(0,l.Wm)(n,{theme:"light",class:"main-right"})])),_:1})}}},d=a(89);const v=(0,d.Z)(m,[["__scopeId","data-v-8c9dc790"]]);var p=v;const f=(e,t)=>{const a=document.createElement("a");a.download=t,a.href=document.getElementById(e).toDataURL("image/png"),a.click(),a.remove()},h=e=>{navigator.clipboard.writeText(e).then((()=>{i.ZP.success("复制成功",2)})).catch((e=>{i.ZP.success("复制失败",2),console.log(e)}))};var w=a(2235),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},b=g,y=a(9388);function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){z(e,t,a[t])}))}return e}function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=function(e,t){var a=k({},e,t.attrs);return(0,l.Wm)(y.Z,k({},a,{icon:b}),null)};_.displayName="LinkOutlined",_.inheritAttrs=!1;var C=_,W=a(6888),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"qrcode",theme:"outlined"},O=S;function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){H(e,t,a[t])}))}return e}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j=function(e,t){var a=U({},e,t.attrs);return(0,l.Wm)(y.Z,U({},a,{icon:O}),null)};j.displayName="QrcodeOutlined",j.inheritAttrs=!1;var P=j,x={__name:"FormCollection",setup(e){const t=(0,n.iH)(100),a=(0,n.iH)(1),c=(0,n.iH)(10),s=(0,n.iH)(""),m=(0,n.iH)(!1),d=(0,n.iH)([]),v=(0,n.iH)([{title:"序号",dataIndex:"key",key:"key"},{title:"表单名称",dataIndex:"title",key:"title"},{title:"发布时间",dataIndex:"date",key:"date"},{title:"收集答卷数量",dataIndex:"answerNum",key:"answerNum"},{title:"表单操作",dataIndex:"operation"}]),g=(0,n.iH)(""),b=(0,n.iH)({title:"表单标题",content:[]}),y=(0,n.iH)(150),k=(0,n.iH)(!1),z=(0,n.iH)(!1);function _(e){d.value=e.map(((e,t)=>{const l=JSON.parse(e);return l.key=((a.value-1)*c.value+t+1).toString(),l}))}function S(e,t){r.Z.get("formShow.do",{params:{PageIndex:1,PageSize:c.value,QueryParam:e}}).then((e=>{a.value=1,_(e.data),m.value=!1})).catch((e=>{i.ZP.error("搜索失败"),console.log(e)}))}function O(e,t){r.Z.get("formShow.do",{params:{PageIndex:e,PageSize:t,QueryParam:s.value}}).then((e=>{_(e.data),m.value=!1})).catch((e=>{console.log(e)}))}function U(e){window.open(e)}function H(e){g.value=e,k.value=!0}function j(e){b.value=e,z.value=!0}function x(){z.value=!1}return(0,l.bv)((()=>{r.Z.get("formShow.do",{params:{PageIndex:1,PageSize:c.value,QueryParam:""}}).then((e=>{a.value=1,t.value=e.data.formDataTotal,_(e.data.formDataGroup),m.value=!1})).catch((e=>{console.log(e)}))})),(e,r)=>{const i=(0,l.up)("a-input-search"),_=(0,l.up)("a-pagination"),Z=(0,l.up)("a-layout"),I=(0,l.up)("a-divider"),D=(0,l.up)("a-button"),V=(0,l.up)("a-table"),L=(0,l.up)("a-typography-link"),q=(0,l.up)("a-modal"),N=(0,l.up)("a-drawer");return(0,l.wg)(),(0,l.j4)(Z,{class:"container"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{value:s.value,"onUpdate:value":r[0]||(r[0]=e=>s.value=e),placeholder:"请输入表单名称",loading:m.value,"enter-button":!m.value,class:"search-button",onSearch:r[1]||(r[1]=(e,t)=>S(e,t))},null,8,["value","loading","enter-button"]),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{current:a.value,"onUpdate:current":r[2]||(r[2]=e=>a.value=e),pageSize:c.value,"onUpdate:pageSize":r[3]||(r[3]=e=>c.value=e),total:t.value,showSizeChanger:!1,"show-total":e=>`总共有 ${e} 条记录`,"show-less-items":"","show-quick-jumper":"",class:"pagination",onChange:r[4]||(r[4]=(e,t)=>O(e,t))},null,8,["current","pageSize","total","show-total"])])),_:1}),(0,l.Wm)(I,{style:{"margin-top":"0"}}),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(V,{dataSource:d.value,columns:v.value,pagination:!1,loading:m.value,size:"small",style:{"margin-left":"10px","margin-right":"10px"},bordered:""},{bodyCell:(0,l.w5)((({column:e,text:t,record:a})=>["operation"===e.dataIndex?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(D,{onClick:()=>j(a.formData),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(w.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 预览 ")])),_:2},1032,["onClick"]),(0,l.Wm)(D,{onClick:()=>U(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(C))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 打开链接 ")])),_:2},1032,["onClick"]),(0,l.Wm)(D,{onClick:()=>(0,n.SU)(h)(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(W.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 复制链接 ")])),_:2},1032,["onClick"]),(0,l.Wm)(D,{onClick:()=>H(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(P))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 二维码 ")])),_:2},1032,["onClick"]),(0,l.Wm)(D,{onClick:()=>(0,n.SU)(h)(a.formData),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(W.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 复制 JSON ")])),_:2},1032,["onClick"])],64)):(0,l.kq)("",!0)])),title:(0,l.w5)((()=>[(0,l.Uk)("已发布表单的统计信息")])),_:1},8,["dataSource","columns","loading"])])),_:1}),(0,l.Wm)(q,{visible:k.value,"onUpdate:visible":r[6]||(r[6]=e=>k.value=e),title:"二维码生成",okText:"确定",cancelText:" ",destroyOnClose:!0,onOk:r[7]||(r[7]=()=>k.value=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{href:g.value,target:"_blank"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 链接："+(0,o.zw)(g.value),1)])),_:1},8,["href"]),(0,l.Wm)(Z,{style:{"align-items":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(u.Z,{value:g.value,size:y.value,id:"qrcode",style:{border:"2px solid rgb(55, 55, 255)"}},null,8,["value","size"]),(0,l.Wm)(D,{class:"download-button",onClick:r[5]||(r[5]=()=>(0,n.SU)(f)("qrcode","qrcode.png"))},{default:(0,l.w5)((()=>[(0,l.Uk)("下载")])),_:1})])),_:1})])),_:1},8,["visible"]),(0,l.Wm)(N,{width:500,size:"large",title:"表单预览",placement:"top",visible:z.value,destroyOnClose:!0,onClose:x},{extra:(0,l.w5)((()=>[(0,l.Wm)(D,{type:"primary",onClick:x},{default:(0,l.w5)((()=>[(0,l.Uk)("关闭预览")])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(p,{"form-data-json":b.value},null,8,["form-data-json"])])),_:1},8,["visible"])])),_:1})}}};const Z=(0,d.Z)(x,[["__scopeId","data-v-449bbc16"]]);var I=Z}}]);
//# sourceMappingURL=1.ffcf81f3.js.map
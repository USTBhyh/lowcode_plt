"use strict";(self["webpackChunklowcode"]=self["webpackChunklowcode"]||[]).push([[944],{3476:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(3396),n=a(7139);const o={class:"item-title"};var u={__name:"FormGenerator",props:["element"],setup(e){return(t,a)=>{const u=(0,l.up)("a-input"),i=(0,l.up)("a-textarea"),r=(0,l.up)("a-radio"),c=(0,l.up)("a-radio-group"),s=(0,l.up)("a-select"),p=(0,l.up)("a-rate"),m=(0,l.up)("a-date-picker"),d=(0,l.up)("a-typography-text"),v=(0,l.up)("a-typography-paragraph"),w=(0,l.up)("a-divider");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",o,(0,n.zw)(e.element.name),1),"input"==e.element.options.type?((0,l.wg)(),(0,l.j4)(u,{key:0,value:e.element.options.value,"onUpdate:value":a[0]||(a[0]=t=>e.element.options.value=t),allowClear:e.element.options.allowClear,bordered:e.element.options.bordered,placeholder:e.element.options.placeholder,showCount:e.element.options.showCount},null,8,["value","allowClear","bordered","placeholder","showCount"])):"textarea"==e.element.options.type?((0,l.wg)(),(0,l.j4)(i,{key:1,value:e.element.options.value,"onUpdate:value":a[1]||(a[1]=t=>e.element.options.value=t),allowClear:e.element.options.allowClear,autoSize:e.element.options.autoSize,placeholder:e.element.options.placeholder,showCount:e.element.options.showCount},null,8,["value","allowClear","autoSize","placeholder","showCount"])):"radio"==e.element.options.type?((0,l.wg)(),(0,l.j4)(c,{key:2,value:e.element.options.value,"onUpdate:value":a[2]||(a[2]=t=>e.element.options.value=t),name:"radioGroup"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.element.options.valueData,((e,t)=>((0,l.wg)(),(0,l.j4)(r,{key:t,value:e.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.value),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])):"select"==e.element.options.type?((0,l.wg)(),(0,l.j4)(s,{key:3,value:e.element.options.value,"onUpdate:value":a[3]||(a[3]=t=>e.element.options.value=t),style:{width:"250px"},options:e.element.options.valueData},null,8,["value","options"])):"rate"==e.element.options.type?((0,l.wg)(),(0,l.j4)(p,{key:4,value:e.element.options.value,"onUpdate:value":a[4]||(a[4]=t=>e.element.options.value=t),style:{"background-color":"rgb(255, 255, 255)"},count:e.element.options.limit},null,8,["value","count"])):"datePicker"==e.element.options.type?((0,l.wg)(),(0,l.j4)(m,{key:5,value:e.element.options.value,"onUpdate:value":a[5]||(a[5]=t=>e.element.options.value=t),format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},null,8,["value"])):"text"==e.element.options.type?((0,l.wg)(),(0,l.j4)(v,{key:6,style:(0,n.j5)({"font-family":e.element.options.fontFamily,"font-size":e.element.options.fontSize+"px"})},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{type:e.element.options.textType},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.element.options.value),1)])),_:1},8,["type"])])),_:1},8,["style"])):"divider"==e.element.options.type?((0,l.wg)(),(0,l.j4)(w,{key:7,style:(0,n.j5)(e.element.options.style),dashed:e.element.options.dashed,orientation:e.element.options.orientation},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.element.options.value),1)])),_:1},8,["style","dashed","orientation"])):(0,l.kq)("",!0)],64)}}},i=a(89);const r=(0,i.Z)(u,[["__scopeId","data-v-224bb6e0"]]);var c=r},7784:function(e,t,a){a.d(t,{Z:function(){return m}});var l=a(3396),n=a(7139),o=a(3476),u=a(2074),i=a(4870);const r={class:"form-title"};var c={__name:"FormPreview",props:["formDataJson"],setup(e){const t=e,a=(0,i.iH)({title:"表单标题",content:[]});function c(){u.ZP.error("预览页面无法提交",2)}return(0,l.wF)((()=>{a.value=JSON.parse(t.formDataJson)})),(e,t)=>{const u=(0,l.up)("a-layout-sider"),i=(0,l.up)("a-divider"),s=(0,l.up)("a-form-item"),p=(0,l.up)("a-form"),m=(0,l.up)("a-button"),d=(0,l.up)("a-layout");return(0,l.wg)(),(0,l.j4)(d,{class:"container"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{theme:"light",class:"main-left"}),(0,l.Wm)(d,{class:"content"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l._)("div",r,(0,n.zw)(a.value.title),1),(0,l.Wm)(i),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value.content,(e=>((0,l.wg)(),(0,l.j4)(s,{class:"item-content"},{default:(0,l.w5)((()=>[(0,l.Wm)(o.Z,{element:e},null,8,["element"])])),_:2},1024)))),256))])),_:1}),(0,l.Wm)(m,{type:"primary",class:"submit-button",onClick:c},{default:(0,l.w5)((()=>[(0,l.Uk)(" 提交 ")])),_:1})])),_:1}),(0,l.Wm)(u,{theme:"light",class:"main-right"})])),_:1})}}},s=a(89);const p=(0,s.Z)(c,[["__scopeId","data-v-8c9dc790"]]);var m=p},9944:function(e,t,a){a.r(t),a.d(t,{default:function(){return O}});var l=a(3396),n=a(4870),o=a(7139),u=a(4161),i=a(85),r=a(7784),c=a(7205),s=a(2074);const p=e=>{navigator.clipboard.writeText(e).then((()=>{s.ZP.success("复制成功",2)})).catch((e=>{s.ZP.success("复制失败",2),console.log(e)}))};var m=a(2235),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},v=d,w=a(9388);function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){h(e,t,a[t])}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g=function(e,t){var a=f({},e,t.attrs);return(0,l.Wm)(w.Z,f({},a,{icon:v}),null)};g.displayName="LinkOutlined",g.inheritAttrs=!1;var y=g,k=a(6888),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"qrcode",theme:"outlined"},z=b;function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},l=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){C(e,t,a[t])}))}return e}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var W=function(e,t){var a=_({},e,t.attrs);return(0,l.Wm)(w.Z,_({},a,{icon:z}),null)};W.displayName="QrcodeOutlined",W.inheritAttrs=!1;var S=W,U={__name:"FormCollection",setup(e){const t=(0,n.iH)(100),a=(0,n.iH)(1),d=(0,n.iH)(10),v=(0,n.iH)(""),w=(0,n.iH)(!1),f=(0,n.iH)([]),h=(0,n.iH)([{title:"序号",dataIndex:"key",key:"key"},{title:"表单名称",dataIndex:"title",key:"title"},{title:"发布时间",dataIndex:"date",key:"date"},{title:"收集答卷数量",dataIndex:"answerNum",key:"answerNum"},{title:"表单操作",dataIndex:"operation"}]),g=(0,n.iH)(""),b=(0,n.iH)({title:"表单标题",content:[]}),z=(0,n.iH)(150),_=(0,n.iH)(!1),C=(0,n.iH)(!1);function W(e){f.value=e.map(((e,t)=>{const l=JSON.parse(e);return l.key=((a.value-1)*d.value+t+1).toString(),l}))}function U(e,t){u.Z.get("formShow.do",{params:{PageIndex:1,PageSize:d.value,QueryParam:e}}).then((e=>{a.value=1,W(e.data),w.value=!1})).catch((e=>{s.ZP.error("搜索失败"),console.log(e)}))}function j(e,t){u.Z.get("formShow.do",{params:{PageIndex:e,PageSize:t,QueryParam:v.value}}).then((e=>{W(e.data),w.value=!1})).catch((e=>{console.log(e)}))}function x(e){window.open(e)}function O(e){g.value=e,_.value=!0}function H(e){b.value=e,C.value=!0}function P(){C.value=!1}return(0,l.bv)((()=>{u.Z.get("formShow.do",{params:{PageIndex:1,PageSize:d.value,QueryParam:""}}).then((e=>{a.value=1,t.value=e.data.formDataTotal,W(e.data.formDataGroup),w.value=!1})).catch((e=>{console.log(e)}))})),(e,u)=>{const s=(0,l.up)("a-input-search"),W=(0,l.up)("a-pagination"),Z=(0,l.up)("a-layout"),D=(0,l.up)("a-divider"),I=(0,l.up)("a-button"),Y=(0,l.up)("a-table"),V=(0,l.up)("a-typography-link"),M=(0,l.up)("a-modal"),q=(0,l.up)("a-drawer");return(0,l.wg)(),(0,l.j4)(Z,{class:"container"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{value:v.value,"onUpdate:value":u[0]||(u[0]=e=>v.value=e),placeholder:"请输入表单名称",loading:w.value,"enter-button":!w.value,class:"search-button",onSearch:u[1]||(u[1]=(e,t)=>U(e,t))},null,8,["value","loading","enter-button"]),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,{current:a.value,"onUpdate:current":u[2]||(u[2]=e=>a.value=e),pageSize:d.value,"onUpdate:pageSize":u[3]||(u[3]=e=>d.value=e),total:t.value,showSizeChanger:!1,"show-total":e=>`总共有 ${e} 条记录`,"show-less-items":"","show-quick-jumper":"",class:"pagination",onChange:u[4]||(u[4]=(e,t)=>j(e,t))},null,8,["current","pageSize","total","show-total"])])),_:1}),(0,l.Wm)(D,{style:{"margin-top":"0"}}),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Y,{dataSource:f.value,columns:h.value,pagination:!1,loading:w.value,size:"small",style:{"margin-left":"10px","margin-right":"10px"},bordered:""},{bodyCell:(0,l.w5)((({column:e,text:t,record:a})=>["operation"===e.dataIndex?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(I,{onClick:()=>H(a.formData),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(m.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 预览 ")])),_:2},1032,["onClick"]),(0,l.Wm)(I,{onClick:()=>x(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(y))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 打开链接 ")])),_:2},1032,["onClick"]),(0,l.Wm)(I,{onClick:()=>(0,n.SU)(p)(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(k.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 复制链接 ")])),_:2},1032,["onClick"]),(0,l.Wm)(I,{onClick:()=>O(a.url),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(S))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 二维码 ")])),_:2},1032,["onClick"]),(0,l.Wm)(I,{onClick:()=>(0,n.SU)(p)(a.formData),size:"small"},{icon:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(k.Z))])),default:(0,l.w5)((()=>[(0,l.Uk)(" 复制 JSON ")])),_:2},1032,["onClick"])],64)):(0,l.kq)("",!0)])),title:(0,l.w5)((()=>[(0,l.Uk)("已发布表单的统计信息")])),_:1},8,["dataSource","columns","loading"])])),_:1}),(0,l.Wm)(M,{visible:_.value,"onUpdate:visible":u[6]||(u[6]=e=>_.value=e),title:"二维码生成",okText:"确定",cancelText:" ",destroyOnClose:!0,onOk:u[7]||(u[7]=()=>_.value=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{href:g.value,target:"_blank"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 链接："+(0,o.zw)(g.value),1)])),_:1},8,["href"]),(0,l.Wm)(Z,{style:{"align-items":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i.Z,{value:g.value,size:z.value,id:"qrcode",style:{border:"2px solid rgb(55, 55, 255)"}},null,8,["value","size"]),(0,l.Wm)(I,{class:"download-button",onClick:u[5]||(u[5]=()=>(0,n.SU)(c.A)("qrcode","qrcode.png"))},{default:(0,l.w5)((()=>[(0,l.Uk)("下载")])),_:1})])),_:1})])),_:1},8,["visible"]),(0,l.Wm)(q,{width:500,size:"large",title:"表单预览",placement:"top",visible:C.value,destroyOnClose:!0,onClose:P},{extra:(0,l.w5)((()=>[(0,l.Wm)(I,{type:"primary",onClick:P},{default:(0,l.w5)((()=>[(0,l.Uk)("关闭预览")])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(r.Z,{"form-data-json":b.value},null,8,["form-data-json"])])),_:1},8,["visible"])])),_:1})}}},j=a(89);const x=(0,j.Z)(U,[["__scopeId","data-v-088fff35"]]);var O=x}}]);
//# sourceMappingURL=944.65e064a6.js.map
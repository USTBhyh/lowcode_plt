"use strict";(self["webpackChunklowcode"]=self["webpackChunklowcode"]||[]).push([[648],{3476:function(e,t,o){o.d(t,{Z:function(){return p}});var l=o(3396),n=o(7139);const a={class:"item-title"};var u={__name:"FormGenerator",props:["element"],setup(e){return(t,o)=>{const u=(0,l.up)("a-input"),s=(0,l.up)("a-textarea"),i=(0,l.up)("a-radio"),p=(0,l.up)("a-radio-group"),r=(0,l.up)("a-select"),m=(0,l.up)("a-rate"),d=(0,l.up)("a-date-picker"),v=(0,l.up)("a-typography-text"),c=(0,l.up)("a-typography-paragraph"),w=(0,l.up)("a-divider");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",a,(0,n.zw)(e.element.name),1),"input"==e.element.options.type?((0,l.wg)(),(0,l.j4)(u,{key:0,value:e.element.options.value,"onUpdate:value":o[0]||(o[0]=t=>e.element.options.value=t),allowClear:e.element.options.allowClear,bordered:e.element.options.bordered,placeholder:e.element.options.placeholder,showCount:e.element.options.showCount},null,8,["value","allowClear","bordered","placeholder","showCount"])):"textarea"==e.element.options.type?((0,l.wg)(),(0,l.j4)(s,{key:1,value:e.element.options.value,"onUpdate:value":o[1]||(o[1]=t=>e.element.options.value=t),allowClear:e.element.options.allowClear,autoSize:e.element.options.autoSize,placeholder:e.element.options.placeholder,showCount:e.element.options.showCount},null,8,["value","allowClear","autoSize","placeholder","showCount"])):"radio"==e.element.options.type?((0,l.wg)(),(0,l.j4)(p,{key:2,value:e.element.options.value,"onUpdate:value":o[2]||(o[2]=t=>e.element.options.value=t),name:"radioGroup"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.element.options.valueData,((e,t)=>((0,l.wg)(),(0,l.j4)(i,{key:t,value:e.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.value),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])):"select"==e.element.options.type?((0,l.wg)(),(0,l.j4)(r,{key:3,value:e.element.options.value,"onUpdate:value":o[3]||(o[3]=t=>e.element.options.value=t),style:{width:"250px"},options:e.element.options.valueData},null,8,["value","options"])):"rate"==e.element.options.type?((0,l.wg)(),(0,l.j4)(m,{key:4,value:e.element.options.value,"onUpdate:value":o[4]||(o[4]=t=>e.element.options.value=t),style:{"background-color":"rgb(255, 255, 255)"},count:e.element.options.limit},null,8,["value","count"])):"datePicker"==e.element.options.type?((0,l.wg)(),(0,l.j4)(d,{key:5,value:e.element.options.value,"onUpdate:value":o[5]||(o[5]=t=>e.element.options.value=t),format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD"},null,8,["value"])):"text"==e.element.options.type?((0,l.wg)(),(0,l.j4)(c,{key:6,style:(0,n.j5)({"font-family":e.element.options.fontFamily,"font-size":e.element.options.fontSize+"px"})},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{type:e.element.options.textType},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.element.options.value),1)])),_:1},8,["type"])])),_:1},8,["style"])):"divider"==e.element.options.type?((0,l.wg)(),(0,l.j4)(w,{key:7,style:(0,n.j5)(e.element.options.style),dashed:e.element.options.dashed,orientation:e.element.options.orientation},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.element.options.value),1)])),_:1},8,["style","dashed","orientation"])):(0,l.kq)("",!0)],64)}}},s=o(89);const i=(0,s.Z)(u,[["__scopeId","data-v-224bb6e0"]]);var p=i},4648:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});o(7658);var l=o(3396),n=o(7139),a=o(4870),u=o(3476),s=o(4161),i=o(2483);const p={class:"form-title"};var r={__name:"PublicSubmission",setup(e){const t=(0,i.tv)(),o=(0,i.yj)(),r=(0,a.iH)(""),m=(0,a.iH)({title:"表单标题",content:[]});function d(){const e=[];for(let t of m.value.content)"text"!=t.options.type&&"divider"!=t.options.type&&e.push({field:t.field,type:t.type,value:t.options.value});const o=JSON.stringify(e);s.Z.post("saveData.do",{submission:o}).then((e=>{console.log(e.data.formData),t.push({name:"submissionFinish"})})).catch((e=>{console.log(e)}))}return(0,l.wF)((()=>{r.value=o?.query?.subUrl;const e=new URLSearchParams;e.append("subUrl",r.value),s.Z.post("formData.do",e).then((e=>{console.log(e.data),m.value=e.data,""==e.data&&t.push({name:"notFound"})})).catch((e=>{console.log(e)}))})),(e,t)=>{const o=(0,l.up)("a-layout-sider"),a=(0,l.up)("a-divider"),s=(0,l.up)("a-form-item"),i=(0,l.up)("a-form"),r=(0,l.up)("a-button"),v=(0,l.up)("a-layout");return(0,l.wg)(),(0,l.j4)(v,{class:"container"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{theme:"light",class:"main-left"}),(0,l.Wm)(v,{class:"content"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l._)("div",p,(0,n.zw)(m.value.title),1),(0,l.Wm)(a),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value.content,((e,t)=>((0,l.wg)(),(0,l.j4)(s,{key:t,class:"item-content"},{default:(0,l.w5)((()=>[(0,l.Wm)(u.Z,{element:e},null,8,["element"])])),_:2},1024)))),128))])),_:1}),(0,l.Wm)(r,{type:"primary",class:"submit-button",onClick:d},{default:(0,l.w5)((()=>[(0,l.Uk)(" 提交 ")])),_:1})])),_:1}),(0,l.Wm)(o,{theme:"light",class:"main-right"})])),_:1})}}},m=o(89);const d=(0,m.Z)(r,[["__scopeId","data-v-2dd72924"]]);var v=d}}]);
//# sourceMappingURL=648.26e21ed3.js.map